<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>АвтоМир - Корзина</title>
    <link rel="stylesheet" th:href="@{/style.css}">
    <!-- Optional: Add Bootstrap CSS for a more modern look -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
<header>
    <h1>АвтоМир</h1>
</header>
<main>
    <div class="cart-container">
        <h2>Корзина</h2>

        <!-- Отображение сообщения об ошибке (если есть) -->
        <div th:if="${errorMessage}" class="error-message" th:text="${errorMessage}"></div>

        <!-- Проверка на пустую корзину -->
        <div th:if="${cartItems == null || cartItems.empty}">
            <p>Ваша корзина пуста.</p>
            <p><a th:href="@{/products}">Перейти к списку товаров</a></p> <!-- Ссылка на страницу товаров -->
        </div>

        <!-- Отображение элементов корзины (если корзина не пуста) -->
        <div th:unless="${cartItems == null || cartItems.empty}">
            <div id="cart-items">
                <!-- Итерация по элементам корзины -->
                <div class="cart-item" th:each="item : ${cartItems}">
                    <span class="item-name" th:text="${item.product.name}">Название товара</span>
                    <span th:text="${item.quantity} + ' шт.'">Количество</span>
                    <span th:text="${#numbers.formatCurrency(item.product.price * item.quantity)}">Сумма</span>
                </div>
            </div>
            <div id="cart-total">
                <p>Общая сумма: <span id="total-price" th:text="${#numbers.formatCurrency(total)} + ' руб.'">0 руб.</span></p>
                <button id="checkout-btn">Оформить заказ</button>
                <script th:src="@{/static/cart.js}"></script>
            </div>
        </div>
    </div>
</main>
<footer>
    <p>&copy; 2023 АвтоМир.</p>
</footer>
</body>
</html>